# env.example / .env.example
#
# Voorbeeld configuratie voor mCSD ITI-90 Address Book Proxy (FastAPI).
# Kopieer dit bestand naar .env en vul waarden in die passen bij jouw omgeving.

# --- Upstream / connectiviteit ---

# Verplichte upstream FHIR base (volledige base URL)
MCSD_BASE=https://mtls.fort365.net/address-book/admin-directory

# Timeout (seconden) voor calls naar de upstream (optioneel)
MCSD_UPSTREAM_TIMEOUT=15

# httpx connection pool tuning (optioneel)
MCSD_HTTPX_MAX_CONNECTIONS=100
MCSD_HTTPX_MAX_KEEPALIVE_CONNECTIONS=20

# TLS verificatie voor upstream (optioneel)
# true  = verifieer certificaten (aanbevolen)
# false = alleen voor lokale tests / PoC
MCSD_VERIFY_TLS=true

# Extra CA-bundle (optioneel) voor upstream mTLS / private CA’s
# Pad naar een PEM bestand met CA certificaten
MCSD_CA_CERTS_FILE=/etc/ssl/certs/ca-certificates.crt

# Bearer token voor upstream als die dat vereist (optioneel)
# (laat leeg als je dit niet gebruikt)
MCSD_BEARER_TOKEN=

# --- Security: toegang tot deze proxy ---

# API-key voor endpoints die beveiligd zijn met X-API-Key (verplicht als je die beveiliging gebruikt)
MCSD_API_KEY=change-me

# CORS origins (optioneel). Komma-gescheiden lijst.
# Voorbeeld: http://localhost:5173,http://127.0.0.1:5173
MCSD_ALLOW_ORIGINS=http://localhost:8000

# Allowed hosts (optioneel). Komma-gescheiden lijst.
# Voorbeeld: localhost,127.0.0.1,example.org
MCSD_ALLOWED_HOSTS=localhost,127.0.0.1

# Productie-guard (optioneel). In productie strictere checks / beperkingen.
MCSD_IS_PRODUCTION=false

# --- Input validatie / limieten ---

# Max aantal query parameters in een request (optioneel)
MCSD_MAX_QUERY_PARAMS=50

# Max aantal waarden per query parameter (optioneel)
MCSD_MAX_QUERY_PARAM_VALUES=50

# Max lengte van een query value (optioneel)
MCSD_MAX_QUERY_VALUE_LENGTH=200

# --- [PoC] BgZ notified pull / sender-identiteit ---
# Wordt gebruikt bij het bouwen van de notification Task.

MCSD_SENDER_URA=00000000
MCSD_SENDER_NAME=ZBC Demo Zender

# Optioneel: base URL van de lokale BgZ/FHIR server van de verzender
# Als dit leeg is, wordt deze metadata niet meegestuurd.
MCSD_SENDER_BGZ_BASE=https://sender.example.org/fhir

# --- [PoC] Audit logging en task preview ---

# Optioneel: HMAC secret voor pseudonimisatie van patiënt-identificatie in audit logs
# Als leeg, wordt geen patiënt-ref gelogd.
MCSD_AUDIT_HMAC_KEY=

# Optioneel: sta /bgz/task-preview toe in productie (default false)
MCSD_ALLOW_TASK_PREVIEW_IN_PRODUCTION=false


# --- [PoC] Debug JSON dumps ---

# Zet op true om outgoing JSON payloads voor /bgz/load-data en /bgz/notify naar disk te dumpen.
MCSD_DEBUG_DUMP_JSON=false

# Directory voor debug dumps (moet writable zijn).
MCSD_DEBUG_DUMP_DIR=/tmp/mcsd-debug

# Redigeer (standaard) bekende BSN-identifiers/velden in de dumps.
MCSD_DEBUG_DUMP_REDACT=true
